@import "global-variables";

.node-type-es-landing-page {
	.panel-col-top,
	.center-wrapper {
		position: relative;
		z-index: 1;
	}

	.center-wrapper {
		z-index: 2;
	}

	.panel-col-top {
		.panel-pane {
			z-index: 1;
		}
	}

	header {
		z-index: 20;
		$w: $maxWidth + ($padding * 2);
		
		padding-top: 0 !important;
		position: absolute;
		width: $w;
		left: 50%;
		margin: 0;
		margin-top: $padding;
		margin-left: -($w / 2);

		h1 {
			@include box-sizing(border-box);
			line-height: 1em;
			max-width: ($squareWidth * 2) + ($padding * 3);
			color: $white !important;
			margin: 0;
			padding: $padding;
			padding-left: 0;
		}

		@include respond-to(tablet) {
			left: 0;
			margin: 0;
			width: ($squareWidthTablet * 2) + ($padding * 2);

			h1 {
				width: 100%;
				max-width: inherit;	
			}	
		}

		@include respond-to(smartphone) {
			width: 100%;
			left: 0;
			margin-left: 0;

			h1 {
				padding: $smartphonePadding;
				font-size: $sectionTitleSmartphone;
				line-height: $sectionTitleSmartphoneLineHeight;
			}
		}
	}

	#content {
		max-width: none;

		@include respond-to(smartphone) {
			padding-left: 0;
			padding-right: 0;
		}

		@include respond-to(tablet) {
			padding-left: 0;
			padding-right: 0;
		}

		.center-wrapper {
			max-width: $maxWidth;
			margin-left: auto;
			margin-right: auto;

			@include respond-to(tablet) {
				padding-left: $padding;
				padding-right: $padding;	
			}

			@include respond-to(smartphone) {
				padding-left: $smartphonePadding;
				padding-right: $smartphonePadding;
			}
		}

		// categories and themes
		.panel-col-top {
			#body-category-wrapper {
				margin-left: auto;
				margin-right: auto;

				width: 100%;
				max-width: $maxWidth;

				.views-field-name > span {
					z-index: 1;
					position: absolute;
					display: block;
					margin-top: $padding / 2;
					margin-left: $padding / 2;

					@include box-sizing(border-box);
					width: 100px;
					height: 100px;
					padding: $padding / 2;

					font-size: $slightlyLargerText;
					font-weight: $book;
					font-style: italic;
					color: $white;
					background-color: $esBlue;

					@include background-image-retina(arrow, png, 20px, 20px);
					background-repeat: no-repeat;
					background-position: 10px 70px;
				}

				.views-field-body {
					font-weight: $book !important;
				}

				.body-box,
				.image-top {
					position: relative;
					float: left;
				}

				.body-box {
					z-index: 21;
					
					& > .field {
						@include text-box($esYellow, $white, $black);
						margin-top: -150px;
						margin-left: -($padding);

						@include respond-to(smartphone) {
							margin: 0;
							margin-top: $smartphonePadding;
						}	
					}

					.clone-container {
						width: 100%;

						&  > .views-row {
							float: right;	
						}
					}
				}

				#es-categories {
					padding-top: $padding;
					overflow: hidden;
					width: ($squareWidth * 2) + ($padding * 2);
					
					& > .view > .view-content > .views-row {
						margin-right: $padding;
						@include top-aligned-rows;
					}
				}

				.smartphone-only {
					display: none !important;
				}

				@include respond-to(smartphone) {
					.smartphone-only {
						display: inline-block;
					}

					.smartphone-hide {
						display: none;
					}
				}
			}
		}

		.panel-col-bottom,
		.pane-content-collections-es-theme {
			clear: both;
			background-color: $es-grey-bg;

			.view {
				max-width: $maxWidth;
				margin-left: auto;
				margin-right: auto;
			}
		}

		.pane-content-collections-es-theme {
			border-bottom: 4px solid $white;

			&:last-child {
				border-bottom: 0;
			}
		}

		// middle section
		.center-wrapper {
			padding-top: $padding;
			width: 100%;
			overflow: hidden;

			.panel-panel {
				padding: 0;
				margin: 0;
				margin-right: $padding;
				width: $squareWidth;

				.inside {
					margin: 0;
					padding: 0;
				}

				.field-name-field-title,
				.field-name-field-subtitle,
				.views-field-field-editors-choice-label {
					color: $black;
					font-weight: $medium;
					font-style: italic;
				}

				.views-row {
					// borders
					border-bottom: 1px solid $line-grey-light;
					margin-bottom: $padding;

					&:last-child {
						border-bottom: none;
						margin-bottom: 0;
					}

					// titles
					.views-field-title {
						a {
							font-weight: $medium;
						}
					}

					&:first-child {
						.views-field-title {
							a {
								font-size: $largeText;
								line-height: $largeTextLineHeight - 3;
							}	
						}
					}
				}

				// big middle column
				&.panel-col {
					$w: ($squareWidth * 2) + $padding;
					width: $w;

					.views-field-field-hero-region {
						width: $w;
						height: $w;
					}
				}
			}	
		}

		// bottom section
		.panel-col-bottom {
			width: 100%;
			overflow: hidden;
			padding-top: $padding;
			padding-bottom: $padding;

			.views-field {
				margin-bottom: $padding;

				&.views-field-field-title {
					@include title-link(blue);
				}
				&.views-field-field-link {
					@include box-sizing(border-box);
					@include cta-button;
				}
			}
		}
	}	

	#footer {
		margin-top: 0;
	}
}
