@import "global-variables";

.node-type-landing-page-science-today {

	@include respond-to(smartphone) {f
		.panel-pane {
			width: 100%;
		}
	}

	.panel-col-top {
		margin-top: $padding * 2;
		margin-bottom: $padding * 2;
		.pane-node-title {
			float: left;
			@include respond-to(smartphone) {
				float: none;
			}
			@include respond-to(tablet) {
				float: none;
			}
		}
		.pane-node-field-subtitle,
		.pane-node-field-subtitle .field {
			color: $text-grey;
			font-size: $slightlyLargerText;
			line-height: $slightlyLargerTextLineHeight;
			font-weight: $book;
			font-style: italic;
			padding-left: 6px;
			padding-top: 13px;
			float: left;

			h2 {
				font-weight: inherit;
				font-size: inherit;
				line-height: inherit;
			}

			@include respond-to(smartphone) {
				padding-left: 0;
				padding-top: 0;
				float: none;
				font-size: $smartphoneText;
				line-height: $smartphoneLineHeight;
			}

			@include respond-to(tablet) {
				padding-left: 0;
				padding-top: 0;
				float: none;
			}
		}
	}

	.panel-col-first,
	.panel-col-last {
		margin-top: $padding * 3;
		@include respond-to(smartphone) {
			margin-top: $padding;
			width: 100%;
		}
	}

	.panel-col-first {
		.pane-es-science-today-featured-articles-panel-pane-1 .pane-title {
			display: none;
		}
		@include respond-to(tablet) {
			margin-top: $padding;
			width:77%;
			padding-right: 2%;
		}
		@include respond-to(smartphone) {
			width: 100%;
		}
		.tri-col-highlight .views-row {
			float: left;
		}
		.tri-col-highlight .views-row-1 {

			@include respond-to(tablet) {
				width: 70%;
				margin-right: 3%;
			}
			@include respond-to(smartphone) {
				width: 100% !important;
				margin-right: 0;
				padding-right: 0;
			}
			.views-field-title,
			.views-field-body {
				width: 100%;
				overflow: hidden;

				font-size: $slightlyLargerText;
				line-height: $slightlyLargerTextLineHeight;

				@include respond-to(tablet) {
					width: 100%;
				}
				@include respond-to(smartphone) {
					width: 100%;
					font-size: $smartphoneText;
					line-height: $smartphoneLineHeight;
				}
			}



			.views-field-title .field-content a {
				font-weight: $medium;
				font-size: $scienceTodayLarge;
				line-height: $scienceTodayLargeLineHeight;

				@include background-image-retina(arrow-blue-large, png, 30px, 30px, desktop);
				@include background-image-retina(arrow-blue-large, png, 30px, 30px, tablet);
				padding-right: 35px;

				@include respond-to(smartphone) {
					padding-right: 25px;
					font-size: $smartphoneText;
					line-height: $smartphoneLineHeight;
					margin-bottom: $smartphonePadding;
				}
			}

			.views-field-field-hero-region {
				@include respond-to(tablet) {
					width: 100%;
					height: 100%;
				}
				@include respond-to(smartphone) {
					width: 100% !important;
					height: 100% !important;
				}

				.field-content > .science-today-logo-inset {
					@include respond-to(smartphone) {
						top: $smartphonePadding;
						left: $smartphonePadding;
					}
					position: absolute;
					z-index: 1;
					top: $padding;
					left: $padding;
					@include box-sizing(border-box);
					width: 107px;
					height: 107px;
					@include background-image-retina(logo-science-today, png, 107px, 107px);
					background-repeat: no-repeat;
					background-position: 0 0;
				}

			}

		}

		.tri-col-highlight .views-row.views-row-2 {
			@include respond-to(tablet) {
				padding-left: 0;
			}
			@include respond-to(smartphone) {
				padding-left: 0;
				padding-right: 6px;
			}
		}

		.tri-col-highlight .views-row.views-row-3 {
			@include respond-to(smartphone) {
				padding-left: 6px;
				padding-right: 0;
			}
		}

		.tri-col-highlight .views-row.views-row-2,
		.tri-col-highlight .views-row.views-row-3 {
			.views-field-title .field-content a {
				font-size: $scienceTodayMedium;
				line-height: $scienceTodayMediumLineHeight;
				font-weight: $medium;

				@include respond-to(smartphone) {
					font-size: $smartphoneText;
					line-height: $smartphoneLineHeight;
					margin-bottom: $smartphonePadding;
				}
			}
			.views-field-field-hero-region {
				margin-bottom: 12px;
			}
			.views-field-body {
				margin-top: 6px;
				overflow: hidden;
			}
			@include respond-to(tablet) {
				.views-field-field-hero-region {
					width: 100%;
					height: 100%;
				}
				width: 27%;
				margin-right: 0;
			}
			@include respond-to(smartphone) {
				.views-field-field-hero-region {
					width: 100% !important;
					height: 100% !important;
				}
				width: 50%;
			}
		}
	}

	.panel-col-last {
		width: 23%;
		.pane-title {
			font-size: $largeText;
			line-height: $largeTextLineHeight;
			font-weight: $medium;
			font-style: italic;
		}
		.views-row {
			border-top: 1px solid $line-grey-light;
			padding-top: $padding;
			padding-bottom: $padding;

			.views-field-title {
				font-weight: $medium;
			}
			.views-field-body {
				overflow: hidden;
			}
			.views-field:last-child {
				margin-bottom: 0;
			}
		}
		&.right-rail {
			border-top: 0;
			padding-top: 0;
			@include respond-to(tablet) {
				float: left;
				margin-top: $padding;
				width: 20%;
			}
			@include respond-to(smartphone) {
				width: 100%;
			}
		}

		/* creature of the week */
		&.bottom-row-right-rail {
			width: 50%;
			@include respond-to(tablet) {
				width: 47%;
			}
			@include respond-to(smartphone) {
				width: 100%;
			}
		}

	}

	.bottom-row-content {
		margin-top: 30px;
		@include respond-to(tablet) {
			width: 50% !important;
		}
	}

	// Can't Miss
	.pane-es-science-today-featured-articles-panel-pane-st-cant-miss {
	  @include respond-to(tablet) {
			width: 100%;
		}

	  .pane-title {
			font-size: $largeText;
			line-height: $largeTextLineHeight;
			font-weight: $medium;
			font-style: italic;
			margin-bottom: 12px;
		}

		.view-display-id-panel_pane_st_cant_miss {

			.cant-miss-container-left {
				width: 220px;
				float: left;
				clear: left;
				@include respond-to(tablet) {
					width: 48%;
				}
				@include respond-to(smartphone) {
					width: 48%;
					height: 100%;
				}
			}
			.cant-miss-container-right {
				width: 220px;
				float: right;
				clear: right;
				padding-right: $padding;
				@include respond-to(tablet) {
					width: 48%;
					padding-right: 0;
				}
				@include respond-to(smartphone) {
					width: 48%;
					padding-right: 0;
				}
			}

			.cant-miss-container-left > .views-row,
			.cant-miss-container-right > .views-row {

				margin-bottom: 0;
				width: $squareWidth;

				@include respond-to(tablet) {
					width: 100%;
					margin-right: 0;
				}
				@include respond-to(smartphone) {
					width: 100% !important;
				}

				border-top: 1px solid $line-grey-light;
				padding-top: $padding;
				padding-bottom: $padding;

				.views-field-title {
					.field-content {
						font-weight: $medium;
					}
				}

				.views-field-body {
					.field-type-text-with-summary {
						.field-items {
							.field-item {
								@include respond-to(tablet) {
									width: 100% !important;
								}
							}
						}
					}
				}

				.views-field:last-child {
					margin-bottom: 0;
				}
			}
		}

		.cant-miss-container-right > .views-row:nth-child(1) {
			padding-top: 0;
			border-top: none;

			.views-field {
				margin-right: 0;
				@include respond-to(tablet) {
					width: 100% !important;
					height: 100% !important;
				}

				@include respond-to(smartphone) {
					width: 100% !important;
					height: 100% !important;
				}
			}
			.views-field-field-hero-region {
				margin-bottom: 10px;
			}

			.views-field-title {
				padding-top: 0;
				a {
					padding-top: 0;
					font-weight: $medium;

					font-size: $scienceTodayMedium;
					line-height: $scienceTodayMediumLineHeight;

					@include respond-to(smartphone) {
						font-size: $smartphoneText;
						line-height: $smartphoneLineHeight;
						margin-bottom: $smartphonePadding;
					}
				}
			}

		}

		.pane-astronomical-events-panel-pane-1 {
			margin-bottom: 0;
			width: $squareWidth;
			height: $squareWidth;
			overflow: hidden;

			@include respond-to(tablet) {
				width: 100%;
			}
			@include respond-to(smartphone) {
				width: 100%;
				height: 100%;
				overflow: hidden;
			}

			.view-astronomical-events {
				@include respond-to(smartphone) {
					height: 345px;
				}
				.views-row-first {
					position: relative;
				}

				.views-row-first > .field-container {
					z-index: 2;
					position: absolute;
					bottom: 0;
					box-sizing: border-box;
					padding-left: 15px;
					padding-bottom: 15px;
					margin-right: 15px;
				}
			}

			.views-field-title {

				a {
					@include disable-link;
					color: $white;
					font-size: $slightlyLargerText +9px;
					line-height: $slightlyLargerTextLineHeight +4px;
					font-weight: $book;
					font-style: italic;
					background-image: none;
					@include respond-to(tablet) {
						font-size: $slightlyLargerText +5px;
						line-height: $slightlyLargerTextLineHeight +1px;
					}
					@include respond-to(smartphone) {
						font-size: $slightlyLargerText +4px;
						line-height: $smallTextLineHeight;
					}
				}
			}
			.views-field-field-publish-date {
				display: none;
			}
			.views-field-body {
				margin-bottom: 0;
				overflow: hidden;
				.field-content {
					color: $white;
					font-weight: $book;
					font-size: $slightlyLargerText;
					line-height: $smallTextLineHeight;
					@include respond-to(tablet) {
						font-size: $defaultText;
						line-height: 16px;
					}
					@include respond-to(smartphone) {
						font-size: $defaultText +1px;
						line-height: 16px;
					}
				}
			}
			.views-field-field-image-primary {
				z-index: 1;
				@include respond-to(tablet) {
					width: 100% !important;
					height: 100% !important;
				}
				@include respond-to(smartphone) {
					width: 100% !important;
					height: 100% !important;
				}
			}

		}
	}
	// End of Can't Miss

	// Creature of the Week
	.pane-es-science-today-featured-articles-panel-pane-creature-week {
		padding-top: 14px;

		.view > .view-content > .views-row {
			border-top: none;
			position: relative;
			padding-top: 0;
			padding-bottom: 0;

			.views-field-field-hero-region {
				z-index: 1;
				width: 100%;
				height: 100%;

				.field-content a img {
					@include respond-to(smartphone) {
						width: 100% !important;
						height: 100% !important;
					}
				}

				a {
					@include gradient-background;
				}
			}
		}
	}

	.creature-field-container {
		display: block;
		z-index: 2;
		position: absolute;
		bottom: 0;
		box-sizing: border-box;
		padding-left: 15px;
		padding-bottom: 15px;
		margin-right: 15px;
		width: 80%;

		h2.pane-title {
			color: $white;
		}
		.views-field-title .field-content {
			font-size: $slightlyLargerText;
			line-height: $slightlyLargerTextLineHeight;
			font-weight: $medium;
			a {
				color: $white;
				@include arrow(arrow);
			}
		}
		.views-field-body {
			margin-bottom: 0;
			color: rgba(255, 255, 255, .4);
		}
	}
	// End of Creature of the Week

	// Browse By Topic
	.pane-category-listings-panel-pane-1 {
		.pane-title {
			font-size: $largeText;
			line-height: $largeTextLineHeight;
			font-weight: $medium;
			font-style: italic;
			margin-bottom: 12px;
		}
		.view-category-listings > .view-content > .views-row {
			margin-right: $padding;
			margin-bottom: $padding;

			@include top-aligned-rows;

			.views-field {
				margin: 0;
			}

			@include respond-to(smartphone) {
				margin-bottom: $smartphonePadding !important;
			}
			a {
				@include respond-to(smartphone) {
					height: 100% !important;
				}
			}
		}
	}
	// End of Browse By Topic

}
